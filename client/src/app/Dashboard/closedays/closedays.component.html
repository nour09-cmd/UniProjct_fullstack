<div class="container">
  <div class="row">
    <div class="col">
      <h1 class="title-dacshboard">
        <i class="bi bi-calendar-x-fill"></i>
        Geschlossene Tage
      </h1>
    </div>
  </div>

  <div class="radio-btn">
    <app-radio-button
      [options]="radioOptions"
      [selectedValue]="selectedFilter"
      (valueChange)="onFilterChange($event)"
    ></app-radio-button>
  </div>

  <div *ngIf="selectedFilter === 'deleteDay'" class="fade-in">
    <div class="alert alert-warning">
      <i class="bi bi-exclamation-triangle-fill"></i>
      <div>
        <strong>Hinweis:</strong> Hier können Sie ein Datum löschen, an dem der
        Laden zuvor als geschlossen markiert wurde. An diesem Tag konnten
        ursprünglich keine Termine gebucht werden, aber Sie haben jetzt die
        Möglichkeit, diese Sperrung zu entfernen.
      </div>
    </div>

    <div class="container-table">
      <div class="table-responsive">
        <table class="table">
          <thead>
            <tr>
              <th scope="col" class="text-start">
                <i class="bi bi-calendar-date me-2"></i>Tag
              </th>
              <th scope="col" class="text-center">
                <i class="bi bi-trash me-2"></i>Aktion
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let day of closedDays | keyvalue; let i = index">
              <td class="text-start">
                <i class="bi bi-calendar-x me-2 text-danger"></i>
                {{ closedDays[i].date }}
              </td>
              <td class="text-center">
                <button
                  class="btn btn-danger btn-sm"
                  (click)="deleteDay(closedDays[i]._id)"
                >
                  <i class="bi bi-x-lg me-2"></i>
                  Stornieren
                </button>
              </td>
            </tr>
            <tr *ngIf="closedDays.length === 0">
              <td colspan="2" class="text-center text-muted">
                <i class="bi bi-info-circle me-2"></i>
                Keine geschlossenen Tage gefunden
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div *ngIf="selectedFilter === 'addDay'" class="fade-in">
    <div class="alert alert-info">
      <i class="bi bi-info-circle-fill"></i>
      <div>
        <strong>Hinweis:</strong> Hier können Sie ein Datum hinzufügen, an dem
        der Laden geschlossen ist. An diesem Tag können keine Termine gebucht
        werden.
      </div>
    </div>

    <form [formGroup]="closedDayForm" (ngSubmit)="createClosedDay()" class="add-day-form">
      <div class="mb-3">
        <div class="form-content">
          <label for="closedDate" class="form-label">
            <i class="bi bi-calendar-plus me-2"></i>
            Wählen Sie einen Tag aus, an dem der Laden geschlossen ist:
          </label>
          <div class="input-group">
            <input
              type="date"
              id="closedDate"
              class="form-control"
              name="closedDay"
              formControlName="date"
              [min]="minDate"
              required
            />
          </div>
        </div>
        <div class="mt-4">
          <Unsere-Buton
            classes="black"
            label="Tag als geschlossen markieren">
          </Unsere-Buton>
        </div>
      </div>
    </form>
  </div>
</div>
